<!DOCTYPE html>
<html lang="en" ng-app="app" ng-controller="AppController as ac">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1">
	<base ng-href="{{SITE_ROOT}}">
	<link rel="icon" sizes="128x128" type="image/png" href="public/img/favicon.png">

	<title ng-bind="$route.current.title ? 'Utilitron | ' + $route.current.title : 'Utilitron'" ng-cloak></title>

	<!-- Font Awesome -->
	<link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">

	<!-- AngularJS Material -->
	<link rel="stylesheet" href="bower_components/angular-material/angular-material.min.css">

	<!-- Fullcalendar -->
	<link rel="stylesheet" href="bower_components/fullcalendar/dist/fullcalendar.min.css"/>

	<!-- Site CSS -->
	<link rel="stylesheet" href="build/site.min.css">
</head>
<body layout="row">
	<md-sidenav layout="column" md-is-locked-open="$mdMedia('gt-sm')" class="md-sidenav-left md-whiteframe-z2" md-component-id="left">
		<md-toolbar layout="row">
			<h1 class="md-toolbar-tools" layout-align-gt-sm="center">
				<a ng-click="goHome()" layout="row" flex class="ut-logo cursor-pointer">
					<img class="ut-logo-icon" src="public/img/favicon.png"/>
					<div class="ut-logotype">Utilitron<sup>&#060;BETA&#062;</sup></div>
				</a>
			</h1>
		</md-toolbar>

		<md-content flex role="navigation" ng-cloak>
			<md-list class="ut-menu">
				<md-list-item ng-repeat="section in menu.sections" ng-class="{'parentActive' : isSectionSelected(section)}" ng-cloak>
					<h2 class="menu-heading md-subhead" ng-if="section-type === 'heading'" id="heading_{{ section.name }}" ng-cloak>
						{{section.name}}
					</h2>

					<menu-link section="section" ng-if="section.type === 'link'"></menu-link>
					<menu-toggle section="section" ng-if="section.type === 'toggle'"></menu-toggle>

					<ul ng-if="section.children" class="menu-nested-list">
						<li ng-repeat="child in section.children" ng-class="{'childActive' : isSectionSelected(child)}">
							<menu-link section="child" ng-if="child.type === 'link'"></menu-link>
							<menu-toggle section="child" ng-if="child-type === 'toggle'"></menu-toggle>
						</li>
					</ul>
				</md-list-item>
			</md-list>
		</md-content>
	</md-sidenav>

	<div id="content" role="main" layout="column" flex tabIndex="-1">
		<md-toolbar>
			<div class="md-toolbar-tools" tabIndex="-1">
				<md-button class="menu" hide-gt-sm aria-label="Toggle Menu" ng-click="openMenu()">
					<i class="fa fa-bars fa-fw fa-lg"></i>
					<span class="visually-hidden">Menu</span>
				</md-button>

				<div layout="row" flex class="fill-height" ng-click="openMenu()">
					<h2 class="md-toolbar-tools md-breadcrumb text-white" layout-align-="left">
						<span ng-if="menu.currentSection && menu.currentSection.pages" ng-cloak>
							{{menu.currentSection.name + ($route.current.title ? ' > ' + $route.current.title : '')}}
						</span>
						<span ng-if="!menu.currentSection.pages" ng-cloak>
							{{$route.current.title ? $route.current.title : ''}}
							<span ng-if="!$route.current.title" hide-gt-sm>Utilitron</span>
						</span>
					</h2>
				</div>

				<md-button class="ut-settings-menu" aria-label="Toggle Settings" ng-click="showSettingsDialog($event)">
					<i class="fa fa-ellipsis-v fa-lg"></i>
					<span class="visually-hidden">Settings</span>
				</md-button>
			</div>
		</md-toolbar>

		<md-content ng-view md-scroll-y flex layout-padding layout-margin></md-content>

	</div>

	<!-- Scripts {{{ -->

	<!-- jQuery -->
	<script src="bower_components/jquery/dist/jquery.min.js"></script>

	<!-- Moment JS -->
	<script src="bower_components/momentjs/min/moment.min.js"></script>
	<script src="bower_components/moment-timezone/builds/moment-timezone.min.js"></script>

	<!-- lodash -->
	<script src="bower_components/lodash/lodash.min.js"></script>

	<!-- AngularJS -->
	<script src="bower_components/angular/angular.min.js"></script>
	<script src="bower_components/angular-animate/angular-animate.min.js"></script>
	<script src="bower_components/angular-route/angular-route.min.js"></script>
	<script src="bower_components/angular-aria/angular-aria.min.js"></script>
	<script src="bower_components/angular-touch/angular-touch.min.js"></script>
	<script src="bower_components/angular-material/angular-material.min.js"></script>

	<!-- Fullcalendar -->
	<script type="text/javascript" src="bower_components/angular-ui-calendar/calendar.min.js"></script>
	<script type="text/javascript" src="bower_components/fullcalendar/dist/fullcalendar.min.js"></script>

	<!-- Site NG -->
	<script src="build/site.min.js"></script>

	<!-- }}} -->
</body>
</html>
